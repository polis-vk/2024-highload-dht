# Отчет по hw6

## CPU

[картинка](https://disk.yandex.ru/i/bNwk4ElOic5LsA)

Вся нагрузка на worker тредах. Каждый раз worker треды ждут, пока в сокете появится место, чтобы записать.


## MEM

[картинка](https://disk.yandex.ru/i/-aW6SPZgR017oA)

Можно избавиться от аллокации массива из нативной памяти.

## Версия 2

Переписал работу с сессией так, чтобы worker тред только добавлял ноду, а уже selector треды писали в сокет.
При этом осталось еще не сделан вынес работу с dao в worker тред. 
Расчет на то, что в этом случае selector треды будут работать в неблокирующем режиме в отличие от воркеров.

## CPU

[флеймграф](https://disk.yandex.ru/d/8aR55y2dg2uSjg)

На более 5 процентов возросло cpu на сокет. Поток исполнения остался workerом. 
Оказалось, что в сокете просто всегда было место, поэтому воркер продолжал писать.

## MEM

[флеймграф](https://disk.yandex.ru/d/CLUnkp8kf8_ggA)

Появилась колонка с `ByteBuffer` во время записи в сокет.
